@page "/{RoomId:int}"
@using Roomz.Services;
@using Roomz.Data;

@inherits OwningComponentBase<ScheduleService>
@*Header with Room Name and Present Time*@
<div class="">
    <div class="d-flex justify-content-between">
        <div class="p-2">
            <h3 class="text-info">
                @*Get the name for the current Room (Left)*@
                @foreach (var schedule in listSchedule)
                {
                    @if (schedule.RoomId == RoomId & RoomCount == RoomId)
                    {
                        @schedule.Room.Name
                    }
                    RoomCount++;
                }
            </h3>
        </div>
        <div class="p-2">
            <h3 class="text-info">
                @*Get the present time (Right)*@

                @DateTime.Now.ToShortTimeString()
            </h3>

        </div>
    </div>
</div>

<div>
    <div class="d-flex justify-content-between border-dark">
        <div class="p-3"></div>
        <div class="p-3">Ledigt</div>
        <div class="p-3"></div>
    </div>
</div>

<table class="table table-hover table-dark">
    <thead>
        <tr>
            <th scope="col">Start</th>
            <th scope="col">End</th>
            <th scope="col">Booker</th>
            <th scope="col">-</th>
        </tr>
    </thead>
    <tbody>

        @*List of todays upcoming reservations*@
        @foreach (var schedule in listSchedule)
        {
            if (schedule.RoomId == RoomId)
            {
                <Roomz.Pages.Components.IndividualSchedule schedule="schedule"></Roomz.Pages.Components.IndividualSchedule>
            }
        }
    </tbody>

</table>

@*</div>*@

<div class="copyright">&copy; Copyright @DateTime.Now.Year, Powered by @System.Runtime.InteropServices.RuntimeInformation.FrameworkDescription</div>

@code{

    [Parameter]
    public int RoomId { get; set; }
    public int RoomCount { get; set; }


    List<Schedule> listSchedule = new List<Schedule>();
    //Room GetRoom = new Room();

    protected override void OnInitialized()
    {
        listSchedule = Service.GetSchedules();
    }

    //List<Room> showRoom = new List<Room>();

}
